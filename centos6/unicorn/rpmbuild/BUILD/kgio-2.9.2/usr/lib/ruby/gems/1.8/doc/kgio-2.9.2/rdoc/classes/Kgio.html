<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Kgio</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Kgio</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/lib/kgio_rb.html">
                lib/kgio.rb
                </a>
        &nbsp;(<a href="http://bogomips.org/kgio.git/tree/lib/kgio.rb"><acronym title="Concurrent Versioning System">CVS</acronym></a>)
        <br />
                <a href="../files/lib/kgio_rb.html">
                lib/kgio.rb
                </a>
        &nbsp;(<a href="http://bogomips.org/kgio.git/tree/lib/kgio.rb"><acronym title="Concurrent Versioning System">CVS</acronym></a>)
        <br />
                <a href="../files/ext/kgio/accept_c.html">
                ext/kgio/accept.c
                </a>
        &nbsp;(<a href="http://bogomips.org/kgio.git/tree/ext/kgio/accept.c"><acronym title="Concurrent Versioning System">CVS</acronym></a>)
        <br />
                <a href="../files/ext/kgio/autopush_c.html">
                ext/kgio/autopush.c
                </a>
        &nbsp;(<a href="http://bogomips.org/kgio.git/tree/ext/kgio/autopush.c"><acronym title="Concurrent Versioning System">CVS</acronym></a>)
        <br />
                <a href="../files/ext/kgio/connect_c.html">
                ext/kgio/connect.c
                </a>
        &nbsp;(<a href="http://bogomips.org/kgio.git/tree/ext/kgio/connect.c"><acronym title="Concurrent Versioning System">CVS</acronym></a>)
        <br />
                <a href="../files/ext/kgio/kgio_ext_c.html">
                ext/kgio/kgio_ext.c
                </a>
        &nbsp;(<a href="http://bogomips.org/kgio.git/tree/ext/kgio/kgio_ext.c"><acronym title="Concurrent Versioning System">CVS</acronym></a>)
        <br />
                <a href="../files/ext/kgio/poll_c.html">
                ext/kgio/poll.c
                </a>
        &nbsp;(<a href="http://bogomips.org/kgio.git/tree/ext/kgio/poll.c"><acronym title="Concurrent Versioning System">CVS</acronym></a>)
        <br />
                <a href="../files/ext/kgio/wait_c.html">
                ext/kgio/wait.c
                </a>
        &nbsp;(<a href="http://bogomips.org/kgio.git/tree/ext/kgio/wait.c"><acronym title="Concurrent Versioning System">CVS</acronym></a>)
        <br />
                <a href="../files/ext/kgio/tryopen_c.html">
                ext/kgio/tryopen.c
                </a>
        &nbsp;(<a href="http://bogomips.org/kgio.git/tree/ext/kgio/tryopen.c"><acronym title="Concurrent Versioning System">CVS</acronym></a>)
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
call-seq:
</p>
<pre>
     Kgio::File.tryopen(filename, [, mode [, perm]])      -&gt; Kgio::File or Symbol
</pre>
<p>
Returns a <a href="Kgio/File.html">Kgio::File</a> object on a successful
open. <tt>filename</tt> is a path to any file on the filesystem. If
specified, <tt>mode</tt> is a bitmask of flags (see IO.sysopen) and
<tt>perm</tt> should be an octal number.
</p>
<p>
This does not raise errors for most failures, but installs returns a Ruby
symbol for the constant in the Errno::* namespace.
</p>
<p>
Common error symbols are:
</p>
<ul>
<li>:ENOENT

</li>
<li>:EACCES

</li>
</ul>
<p>
See your open(2) manpage for more information on open(2) errors.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000006">accept_class</a>&nbsp;&nbsp;
      <a href="#M000005">accept_class=</a>&nbsp;&nbsp;
      <a href="#M000002">accept_cloexec=</a>&nbsp;&nbsp;
      <a href="#M000001">accept_cloexec?</a>&nbsp;&nbsp;
      <a href="#M000004">accept_nonblock=</a>&nbsp;&nbsp;
      <a href="#M000003">accept_nonblock?</a>&nbsp;&nbsp;
      <a href="#M000008">autopush=</a>&nbsp;&nbsp;
      <a href="#M000007">autopush?</a>&nbsp;&nbsp;
      <a href="#M000009">poll</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Module <a href="Kgio/DefaultWaiters.html" class="link">Kgio::DefaultWaiters</a><br />
Module <a href="Kgio/PipeMethods.html" class="link">Kgio::PipeMethods</a><br />
Module <a href="Kgio/SocketMethods.html" class="link">Kgio::SocketMethods</a><br />
Class <a href="Kgio/File.html" class="link">Kgio::File</a><br />
Class <a href="Kgio/Pipe.html" class="link">Kgio::Pipe</a><br />
Class <a href="Kgio/Socket.html" class="link">Kgio::Socket</a><br />
Class <a href="Kgio/TCPServer.html" class="link">Kgio::TCPServer</a><br />
Class <a href="Kgio/TCPSocket.html" class="link">Kgio::TCPSocket</a><br />
Class <a href="Kgio/UNIXServer.html" class="link">Kgio::UNIXServer</a><br />
Class <a href="Kgio/UNIXSocket.html" class="link">Kgio::UNIXSocket</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">LOCALHOST</td>
          <td>=</td>
          <td class="context-item-value">'127.0.0.1'</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
The IPv4 address of UNIX domain sockets, useful for creating Rack (and CGI)
servers that also serve HTTP traffic over UNIX domain sockets.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">WaitReadable</td>
          <td>=</td>
          <td class="context-item-value">:wait_readable</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Kgio::PipeMethods#kgio_tryread and Kgio::SocketMethods#kgio_tryread will
return :wait_readable when waiting for a read is required.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">WaitWritable</td>
          <td>=</td>
          <td class="context-item-value">:wait_writable</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
PipeMethods#kgio_trywrite and SocketMethods#kgio_trywrite will return
:wait_writable when waiting for a read is required.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">LOCALHOST</td>
          <td>=</td>
          <td class="context-item-value">'127.0.0.1'</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
The IPv4 address of UNIX domain sockets, useful for creating Rack (and CGI)
servers that also serve HTTP traffic over UNIX domain sockets.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">WaitReadable</td>
          <td>=</td>
          <td class="context-item-value">:wait_readable</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Kgio::PipeMethods#kgio_tryread and Kgio::SocketMethods#kgio_tryread will
return :wait_readable when waiting for a read is required.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">WaitWritable</td>
          <td>=</td>
          <td class="context-item-value">:wait_writable</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
PipeMethods#kgio_trywrite and SocketMethods#kgio_trywrite will return
:wait_writable when waiting for a read is required.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">SOCK_NONBLOCK</td>
          <td>=</td>
          <td class="context-item-value">INT2NUM(SOCK_NONBLOCK)</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Maps to the SOCK_NONBLOCK constant in Linux for setting the non-blocking
flag on newly accepted sockets. This is usually unnecessary as sockets are
made non-blocking whenever non-blocking methods are used.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">SOCK_CLOEXEC</td>
          <td>=</td>
          <td class="context-item-value">INT2NUM(SOCK_CLOEXEC)</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Maps to the SOCK_CLOEXEC constant in Linux for setting the close-on-exec
flag on newly accepted descriptors. This is enabled by default, and there
is usually no reason to disable close-on-exec for accepted sockets.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">TCP_FASTOPEN</td>
          <td>=</td>
          <td class="context-item-value">INT2NUM(TCP_FASTOPEN)</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MSG_FASTOPEN</td>
          <td>=</td>
          <td class="context-item-value">INT2NUM(MSG_FASTOPEN)</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000006" class="method-detail">
        <a name="M000006"></a>

        <div class="method-heading">
          <a href="Kgio.src/M000006.html" target="Code" class="method-signature"
            onclick="popupCode('Kgio.src/M000006.html');return false;">
          <span class="method-name">accept_class</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the default class for newly accepted sockets when kgio_accept or
kgio_tryaccept are not passed arguments
</p>
        </div>
      </div>

      <div id="method-M000005" class="method-detail">
        <a name="M000005"></a>

        <div class="method-heading">
          <a href="Kgio.src/M000005.html" target="Code" class="method-signature"
            onclick="popupCode('Kgio.src/M000005.html');return false;">
          <span class="method-name">accept_class=</span><span class="method-args">(p1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets the default class for newly accepted sockets. This is legacy behavior,
kgio_accept and kgio_tryaccept now take optional class arguments to
override this value.
</p>
        </div>
      </div>

      <div id="method-M000002" class="method-detail">
        <a name="M000002"></a>

        <div class="method-heading">
          <a href="Kgio.src/M000002.html" target="Code" class="method-signature"
            onclick="popupCode('Kgio.src/M000002.html');return false;">
          <span class="method-name"><br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <pre>
     Kgio.accept_cloexec = true
     Kgio.accept_cloexec = false
</pre>
<p>
Sets whether or not <a href="Kgio/Socket.html">Kgio::Socket</a> objects
created by <a href="Kgio/TCPServer.html#M000015">TCPServer#kgio_accept</a>,
<a href="Kgio/TCPServer.html#M000014">TCPServer#kgio_tryaccept</a>, <a
href="Kgio/UNIXServer.html#M000026">UNIXServer#kgio_accept</a>, and <a
href="Kgio/UNIXServer.html#M000025">UNIXServer#kgio_tryaccept</a> default
to being created with the FD_CLOEXEC file descriptor flag.
</p>
<p>
This is on by default, as there is little reason to deal to enable it for
client sockets on a socket server.
</p>
<p>
Deprecated, use the per-socket flags for kgio_*accept instead.
</p>
        </div>
      </div>

      <div id="method-M000001" class="method-detail">
        <a name="M000001"></a>

        <div class="method-heading">
          <a href="Kgio.src/M000001.html" target="Code" class="method-signature"
            onclick="popupCode('Kgio.src/M000001.html');return false;">
          <span class="method-name"><br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <pre>
     Kgio.accept_cloexec? -&gt; true or false
</pre>
<p>
Returns true if newly accepted Kgio::Sockets are created with the
FD_CLOEXEC file descriptor flag, false if not.
</p>
<p>
Deprecated, use the per-socket flags for kgio_*accept instead.
</p>
        </div>
      </div>

      <div id="method-M000004" class="method-detail">
        <a name="M000004"></a>

        <div class="method-heading">
          <a href="Kgio.src/M000004.html" target="Code" class="method-signature"
            onclick="popupCode('Kgio.src/M000004.html');return false;">
          <span class="method-name"><br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <pre>
     Kgio.accept_nonblock = true
     Kgio.accept_nonblock = false
</pre>
<p>
Sets whether or not <a href="Kgio/Socket.html">Kgio::Socket</a> objects
created by <a href="Kgio/TCPServer.html#M000015">TCPServer#kgio_accept</a>,
<a href="Kgio/TCPServer.html#M000014">TCPServer#kgio_tryaccept</a>, <a
href="Kgio/UNIXServer.html#M000026">UNIXServer#kgio_accept</a>, and <a
href="Kgio/UNIXServer.html#M000025">UNIXServer#kgio_tryaccept</a> are
created with the O_NONBLOCK file status flag.
</p>
<p>
This defaults to <tt>false</tt> for GNU/Linux where MSG_DONTWAIT is
available (and on newer GNU/Linux, accept4() may also set the non-blocking
flag. This defaults to <tt>true</tt> on non-GNU/Linux systems.
</p>
<p>
This is always true on Ruby implementations using user-space threads.
</p>
<p>
Deprecated, use the per-socket flags for kgio_*accept instead.
</p>
        </div>
      </div>

      <div id="method-M000003" class="method-detail">
        <a name="M000003"></a>

        <div class="method-heading">
          <a href="Kgio.src/M000003.html" target="Code" class="method-signature"
            onclick="popupCode('Kgio.src/M000003.html');return false;">
          <span class="method-name"><br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <pre>
     Kgio.accept_nonblock? -&gt; true or false
</pre>
<p>
Returns true if newly accepted Kgio::Sockets are created with the
O_NONBLOCK file status flag, false if not.
</p>
<p>
Deprecated, use the per-socket flags for kgio_*accept instead.
</p>
        </div>
      </div>

      <div id="method-M000008" class="method-detail">
        <a name="M000008"></a>

        <div class="method-heading">
          <a href="Kgio.src/M000008.html" target="Code" class="method-signature"
            onclick="popupCode('Kgio.src/M000008.html');return false;">
          <span class="method-name">Kgio.autopush = true<br />
Kgio.autopush = false<br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Enables or disables autopush for sockets created with kgio_accept and
kgio_tryaccept methods. Autopush relies on TCP_CORK/TCP_NOPUSH being
enabled on the listen socket.
</p>
<p>
Only available on systems with TCP_CORK (Linux) or TCP_NOPUSH (FreeBSD, and
maybe other *BSDs).
</p>
        </div>
      </div>

      <div id="method-M000007" class="method-detail">
        <a name="M000007"></a>

        <div class="method-heading">
          <a href="Kgio.src/M000007.html" target="Code" class="method-signature"
            onclick="popupCode('Kgio.src/M000007.html');return false;">
          <span class="method-name">Kgio.autopush? &rarr; true or false<br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns whether or not autopush is enabled.
</p>
<p>
Only available on systems with TCP_CORK (Linux) or TCP_NOPUSH (FreeBSD, and
maybe other *BSDs).
</p>
        </div>
      </div>

      <div id="method-M000009" class="method-detail">
        <a name="M000009"></a>

        <div class="method-heading">
          <a href="Kgio.src/M000009.html" target="Code" class="method-signature"
            onclick="popupCode('Kgio.src/M000009.html');return false;">
          <span class="method-name"><br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <pre>
     Kgio.poll({ $stdin =&gt; :wait_readable }, 100)  -&gt; hash or nil
     Kgio.poll({ $stdin =&gt; Kgio::POLLIN }, 100)  -&gt; hash or nil
</pre>
<p>
Accepts an input hash with IO objects to wait for as the key and the events
to wait for as its value. The events may either be +:wait_readable+ or
+:wait_writable+ symbols or a Fixnum mask of Kgio::POLL* constants:
</p>
<pre>
     Kgio::POLLIN      - there is data to read
     Kgio::POLLPRI     - there is urgent data to read
     Kgio::POLLOUT     - writing will not block
     Kgio::POLLRDHUP   - peer has shutdown writes (Linux 2.6.17+ only)
</pre>
<p>
Timeout is specified in Integer milliseconds just like the underlying <a
href="Kgio.html#M000009">poll</a>(2), not in seconds like IO.select. A nil
timeout means to wait forever. It must be an Integer or nil.
</p>
<p>
<a href="Kgio.html#M000009">Kgio.poll</a> modifies and returns its input
hash on success with the IO-like object as the key and an Integer mask of
events as the hash value. It can return any of the events specified in the
input above, along with the following events:
</p>
<pre>
     Kgio::POLLERR     - error condition occurred on the descriptor
     Kgio::POLLHUP     - hang up
     Kgio::POLLNVAL    - invalid request (bad file descriptor)
</pre>
<p>
This method is only available under Ruby 1.9 or any other implementations
that uses native threads and rb_thread_blocking_region()
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>